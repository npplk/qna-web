(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"2FLR":function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discussions/[slug]",function(){return s("7lFO")}])},"7lFO":function(e,t,s){"use strict";s.r(t),s.d(t,"getStaticProps",(function(){return S}));var n=s("o0o1"),r=s.n(n),a=s("HaE+"),i=s("q1tI"),o=s.n(i),u=s("8Kt/"),c=s.n(u),d=s("Qv+q"),l=s("okHz"),p=s("oVS1"),w=s("ep1A"),f=s("nF3H"),h=s("z3Z8"),m=s("c9jt"),v=s("kZgV"),I=s("wbyS"),b=s("vfxs"),g=s("cdMG"),y=s("dhEp"),D=s("v0uu"),O=o.a.createElement;function S(e){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(r.a.mark((function e(t){var s,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.params.slug,n=s.split("-").shift(),a=null===s||void 0===s?void 0:s.substr(s.indexOf("-")+1).split("-").join(" "),e.abrupt("return",{props:{discussionId:n,title:a}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.discussionId,s=e.title,n=Object(i.useState)(null),u=n[0],S=n[1],k=Object(i.useState)("Votes"),x=k[0],E=k[1];Object(i.useEffect)((function(){(function(){var e=Object(a.a)(r.a.mark((function e(){var s,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.b.get("/discussion/".concat(t));case 2:s=e.sent,n=s.data,S(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return O(l.a,{extra:!1},O(c.a,null,u&&O("title",null,u.title),!u&&O("title",null,s),O("link",{rel:"canonical",href:window.location.href})),O(w.a,null,!u&&O("div",{className:"loading"},O(y.h,null)),u&&O(o.a.Fragment,null,O(p.a,{title:u.title,create:"Start Discussion",createComp:"/discussions/start"}),O(f.a,{borderBottom:!1},O(h.a,{score:u.score,votes:u.votes,discussionId:t,setDiscussion:S}),O(m.a,{tags:u.tags,author:u.author,created:u.created,discussionId:t},u.text),O(v.a,{discussionId:t,setDiscussion:S},u.comments.map((function(e){var s=e.id,n=e.author,r=e.created,a=e.body;return O(I.a,{key:s,commentId:s,discussionId:t,author:n.username,isOwner:n.username===u.author.username,created:r,setDiscussion:S},a)})))),u.answers.length>0&&O(b.a,{answersCount:u.answers.length,answerSortType:x,setAnswerSortType:E,threadType:D.b.DISCUSSIONS},u.answers.sort(function(){switch(x){case"Votes":return function(e,t){return t.score-e.score};case"Newest":return function(e,t){return new Date(t.created)-new Date(e.created)};case"Oldest":return function(e,t){return new Date(e.created)-new Date(t.created)}}}()).map((function(e){return O(f.a,{key:e.id,isAdminPost:"admin"===e.author.role},O(h.a,{score:e.score,votes:e.votes,answerId:e.id,discussionId:t,setDiscussion:S}),O(m.a,{author:e.author,created:e.created,discussionId:t,answerId:e.id,setDiscussion:S},e.text),O(v.a,{discussionId:t,answerId:e.id,setDiscussion:S},e.comments.map((function(s){var n=s.id,r=s.author,a=s.created,i=s.body;return O(I.a,{key:n,commentId:n,discussionId:t,answerId:e.id,author:r.username,isOwner:r.username===u.author.username,created:a,setDiscussion:S},i)}))))}))),O(g.a,{tags:u.tags,type:D.a.RESPONSE,id:t,setResponse:S}))))}}},[["2FLR",0,2,1,3,4,5,8]]]);