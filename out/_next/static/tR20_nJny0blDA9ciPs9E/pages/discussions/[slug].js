(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"2FLR":function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discussions/[slug]",function(){return s("7lFO")}])},"7lFO":function(e,t,s){"use strict";s.r(t),s.d(t,"__N_SSP",(function(){return O}));var n=s("o0o1"),a=s.n(n),r=s("HaE+"),o=s("q1tI"),i=s.n(o),u=s("8Kt/"),c=s.n(u),d=s("Qv+q"),l=s("okHz"),w=s("oVS1"),m=s("ep1A"),f=s("nF3H"),h=s("z3Z8"),p=s("c9jt"),I=s("kZgV"),v=s("wbyS"),D=s("vfxs"),b=s("cdMG"),g=s("dhEp"),S=s("v0uu"),y=i.a.createElement,O=!0;t.default=function(e){var t=e.discussionId,s=e.title,n=Object(o.useState)(null),u=n[0],O=n[1],k=Object(o.useState)("Votes"),_=k[0],E=k[1];Object(o.useEffect)((function(){(function(){var e=Object(r.a)(a.a.mark((function e(){var s,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.b.get("/discussion/".concat(t));case 2:s=e.sent,n=s.data,O(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return y(l.a,{extra:!1},y(c.a,null,u&&y("title",null,u.title),!u&&y("title",null,s),y("link",{rel:"canonical",href:window.location.href})),y(m.a,null,!u&&y("div",{className:"loading"},y(g.h,null)),u&&y(i.a.Fragment,null,y(w.a,{title:u.title,create:"Start Discussion",createComp:"/discussions/start"}),y(f.a,{borderBottom:!1},y(h.a,{score:u.score,votes:u.votes,discussionId:t,setDiscussion:O}),y(p.a,{tags:u.tags,author:u.author,created:u.created,discussionId:t},u.text),y(I.a,{discussionId:t,setDiscussion:O},u.comments.map((function(e){var s=e.id,n=e.author,a=e.created,r=e.body;return y(v.a,{key:s,commentId:s,discussionId:t,author:n.username,isOwner:n.username===u.author.username,created:a,setDiscussion:O},r)})))),u.answers.length>0&&y(D.a,{answersCount:u.answers.length,answerSortType:_,setAnswerSortType:E},u.answers.sort(function(){switch(_){case"Votes":return function(e,t){return t.score-e.score};case"Newest":return function(e,t){return new Date(t.created)-new Date(e.created)};case"Oldest":return function(e,t){return new Date(e.created)-new Date(t.created)}}}()).map((function(e){return y(f.a,{key:e.id,isAdminPost:"admin"===e.author.role},y(h.a,{score:e.score,votes:e.votes,answerId:e.id,discussionId:t,setDiscussion:O}),y(p.a,{author:e.author,created:e.created,discussionId:t,answerId:e.id,setDiscussion:O},e.text),y(I.a,{discussionId:t,answerId:e.id,setDiscussion:O},e.comments.map((function(s){var n=s.id,a=s.author,r=s.created,o=s.body;return y(v.a,{key:n,commentId:n,discussionId:t,answerId:e.id,author:a.username,isOwner:a.username===u.author.username,created:r,setDiscussion:O},o)}))))}))),y(b.a,{tags:u.tags,type:S.a.RESPONSE,id:t,setResponse:O}))))}}},[["2FLR",0,2,1,3,4,5,8]]]);