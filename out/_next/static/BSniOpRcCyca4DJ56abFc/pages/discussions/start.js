(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{HmCE:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discussions/start",function(){return a("SXaA")}])},SXaA:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),s=a.n(n),r=a("8Kt/"),i=a.n(r),o=a("vbfG"),u=a.n(o),l=s.a.createElement,c=function(e){var t=e.children;return l("div",{className:u.a.layout},l("div",{className:u.a.container},l("div",{className:u.a.topForm},l("h1",null,"Start a public discussion")),t))},d=a("v878"),m=a("o0o1"),h=a.n(m),g=a("HaE+"),p=a("nOHt"),f=a("KYPV"),b=a("UGp+"),v=a("OTcJ"),x=a("HlVv"),w=a("bOU5"),y=a("77Ks"),E=a("0Ofn"),S=a("AqYl"),C=a.n(S),B=s.a.createElement,N=function(){var e=Object(p.useRouter)(),t=Object(n.useContext)(v.a).authAxios,a=Object(n.useState)(!1),s=a[0],r=a[1];return B(f.a,{initialValues:{title:"",text:"",tags:[]},onSubmit:function(){var a=Object(g.a)(h.a.mark((function a(n,s){var i,o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.setStatus,o=s.resetForm,r(!0),a.prev=2,a.next=5,t.post("discussion",n);case 5:o({}),e.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),i(a.t0.response.data.message);case 12:r(!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e,t){return a.apply(this,arguments)}}(),validationSchema:b.b({title:b.d().required("Title is missing.").max(150,"Title cannot be longer than 150 characters.").min(15,"Title must be at least 15 characters."),text:b.d().required("Body is missing.").min(30,"Body must be at least 30 characters.").max(3e4,"Body cannot be longer than 30000 characters."),tags:b.a().required("Please enter at least one tag.").max(5,"Please enter no more than 5 tags.").of(b.d().max(15,"Tag cannot be longer than 15 characters. "))})},(function(e){var t=e.values,a=e.errors,n=e.touched,r=e.status,i=e.handleChange,o=e.setFieldValue,u=e.handleBlur,l=e.handleSubmit,c=e.isSubmitting;return B("form",{onSubmit:l},B("div",{className:C.a.container},B(y.a,{label:"Title",inputInfo:"Be specific and imagine you\u2019re asking a discussion to another person",type:"text",name:"title",autoComplete:"off",value:t.title,onChange:i,onBlur:u,hasError:n.title&&a.title,errorMessage:a.title&&a.title,placeholder:"e.g Is there an R function for finding the index of an element in a vendor?"}),B(w.a,{label:"Body",inputInfo:"Include all the information someone would need to answer your discussion",name:"text",autoComplete:"off",value:t.text,onChange:i,onBlur:u,hasError:n.text&&a.text,errorMessage:a.text&&a.text}),B(E.a,{label:"Tags",inputInfo:"Add up to 5 tags to describe what your discussion is about",type:"text",name:"tags",value:t.tags,onChange:function(e){return o("tags",e,!0)},onBlur:u,hasError:n.tags&&a.tags,errorMessage:a.tags&&a.tags})),B("div",{className:C.a.buttonContainer},B("p",{className:C.a.status},r),B("div",null,B(x.a,{type:"submit",primary:!0,isLoading:s,disabled:c},"Review your discussion"))))}))},T=s.a.createElement;t.default=function(){return T("div",null,T(i.a,null,T("title",null,"Start a Discussion - NPP Q&A")),T(d.a,null),T(c,null,T(N,null)))}}},[["HmCE",0,2,1,3,5,7]]]);